{"ast":null,"code":"import { fakeBackend } from \"./agent/fakeBackend\";\nimport Queries from \"./queries/queries\";\n\nasync function apiAgent() {\n  let url = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"GET\";\n  let token = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : undefined;\n  // Opciones por defecto estan marcadas con un *\n  const Body = type === \"GET\" ? {} : {\n    body: JSON.stringify(data)\n  };\n  const headers = token ? {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': 'Token ' + token\n    }\n  } : {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n  const response = await fetch(url, {\n    method: type,\n    // *GET, POST, PUT, DELETE, etc.\n    mode: 'cors',\n    // no-cors, *cors, same-origin\n    cache: 'no-cache',\n    // *default, no-cache, reload, force-cache, only-if-cached\n    credentials: 'same-origin',\n    // include, *same-origin, omit\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    redirect: 'follow',\n    // manual, *follow, error\n    referrerPolicy: 'no-referrer',\n    // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n    ...Body\n  });\n  return response.json(); // parses JSON response into native JavaScript objects\n}\n\nconst Productor = async props => {\n  const {\n    query,\n    data,\n    type,\n    token\n  } = props;\n  const url = Queries[query];\n  const result = await apiAgent(url, data, type, token);\n  if (result.error) throw result.errorMsg;\n  return result;\n};\n\n_c = Productor;\nexport default Productor;\n/* const agent ={\n    query: (variables,query) =>{\n        return client.query({\n          query: query,\n          fetchPolicy: 'network-only',\n          variables: variables,\n        })\n    },\n    mutation: (variables,query) =>{\n      return client.mutate({\n        mutation: query,\n        variables: variables,\n      })\n    },\n  } */\n\nvar _c;\n\n$RefreshReg$(_c, \"Productor\");","map":{"version":3,"names":["fakeBackend","Queries","apiAgent","url","data","type","token","undefined","Body","body","JSON","stringify","headers","response","fetch","method","mode","cache","credentials","redirect","referrerPolicy","json","Productor","props","query","result","error","errorMsg"],"sources":["/home/samael/server/test/frontend/src/core/productor/fetch/fetch.productor.js"],"sourcesContent":["import { fakeBackend } from \"./agent/fakeBackend\";\nimport Queries from \"./queries/queries\"\n\n\nasync function apiAgent(url = '', data = {},type=\"GET\", token = undefined) {\n  // Opciones por defecto estan marcadas con un *\n  const Body = type === \"GET\" ? {} : {body: JSON.stringify(data)}\n  const headers = token ? {headers:{'Content-Type': 'application/json', 'Authorization': 'Token ' + token}}:{headers:{'Content-Type': 'application/json'}}\n  const response = await fetch(url, {\n    method: type, // *GET, POST, PUT, DELETE, etc.\n    mode: 'cors', // no-cors, *cors, same-origin\n    cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n    credentials: 'same-origin', // include, *same-origin, omit\n\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    redirect: 'follow', // manual, *follow, error\n    referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n    ...Body\n  });\n  return response.json(); // parses JSON response into native JavaScript objects\n}\n\nconst Productor = async (props) =>{\n    const {query,data,type,token} = props\n    const url = Queries[query]\n\n    const result = await apiAgent(url,data,type,token)\n    if(result.error) throw result.errorMsg\n    return result\n}\n\nexport default Productor\n\n/* const agent ={\n    query: (variables,query) =>{\n        return client.query({\n          query: query,\n          fetchPolicy: 'network-only',\n          variables: variables,\n        })\n    },\n    mutation: (variables,query) =>{\n      return client.mutate({\n        mutation: query,\n        variables: variables,\n      })\n    },\n  } */\n"],"mappings":"AAAA,SAASA,WAAT,QAA4B,qBAA5B;AACA,OAAOC,OAAP,MAAoB,mBAApB;;AAGA,eAAeC,QAAf,GAA2E;EAAA,IAAnDC,GAAmD,uEAA7C,EAA6C;EAAA,IAAzCC,IAAyC,uEAAlC,EAAkC;EAAA,IAA/BC,IAA+B,uEAA1B,KAA0B;EAAA,IAAnBC,KAAmB,uEAAXC,SAAW;EACzE;EACA,MAAMC,IAAI,GAAGH,IAAI,KAAK,KAAT,GAAiB,EAAjB,GAAsB;IAACI,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,IAAf;EAAP,CAAnC;EACA,MAAMQ,OAAO,GAAGN,KAAK,GAAG;IAACM,OAAO,EAAC;MAAC,gBAAgB,kBAAjB;MAAqC,iBAAiB,WAAWN;IAAjE;EAAT,CAAH,GAAqF;IAACM,OAAO,EAAC;MAAC,gBAAgB;IAAjB;EAAT,CAA1G;EACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACX,GAAD,EAAM;IAChCY,MAAM,EAAEV,IADwB;IAClB;IACdW,IAAI,EAAE,MAF0B;IAElB;IACdC,KAAK,EAAE,UAHyB;IAGb;IACnBC,WAAW,EAAE,aAJmB;IAIJ;IAE5BN,OAAO,EAAE;MACP,gBAAgB;IADT,CANuB;IAShCO,QAAQ,EAAE,QATsB;IASZ;IACpBC,cAAc,EAAE,aAVgB;IAUD;IAC/B,GAAGZ;EAX6B,CAAN,CAA5B;EAaA,OAAOK,QAAQ,CAACQ,IAAT,EAAP,CAjByE,CAiBjD;AACzB;;AAED,MAAMC,SAAS,GAAG,MAAOC,KAAP,IAAgB;EAC9B,MAAM;IAACC,KAAD;IAAOpB,IAAP;IAAYC,IAAZ;IAAiBC;EAAjB,IAA0BiB,KAAhC;EACA,MAAMpB,GAAG,GAAGF,OAAO,CAACuB,KAAD,CAAnB;EAEA,MAAMC,MAAM,GAAG,MAAMvB,QAAQ,CAACC,GAAD,EAAKC,IAAL,EAAUC,IAAV,EAAeC,KAAf,CAA7B;EACA,IAAGmB,MAAM,CAACC,KAAV,EAAiB,MAAMD,MAAM,CAACE,QAAb;EACjB,OAAOF,MAAP;AACH,CAPD;;KAAMH,S;AASN,eAAeA,SAAf;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}