{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { TaskConsumer, UserConsumer } from \"../../core/consumer\";\nimport { useUserData } from \"../utils/auth.context\";\nconst ConsumerList = {\n  TaskConsumer: TaskConsumer,\n  UserConsumer: UserConsumer\n};\n\nasync function consumerReducer(state, action, userData) {\n  try {\n    const {\n      consumer,\n      consumerAction,\n      variables\n    } = action;\n    const consumerVariables = consumerAction !== \"UserLogin\" ? {\n      userData: userData,\n      ...variables\n    } : variables;\n    const result = await ConsumerList[consumer][consumerAction](consumerVariables);\n    return { ...state,\n      result: result\n    };\n  } catch (error) {\n    console.error(error);\n    return state;\n  }\n}\n\nfunction useConsumerReducer() {\n  _s();\n\n  const [consumerResult, setResult] = useState(null);\n  const {\n    state\n  } = useUserData();\n\n  async function consume(action) {\n    const nextState = await consumerReducer(consumerResult, action, state);\n    setResult(nextState);\n  }\n\n  return [consumerResult, consume];\n}\n\n_s(useConsumerReducer, \"YPHO0DQyijWkOm3lYsHwkC4TpVo=\", false, function () {\n  return [useUserData];\n});\n\nexport default useConsumerReducer;","map":{"version":3,"names":["useEffect","useState","TaskConsumer","UserConsumer","useUserData","ConsumerList","consumerReducer","state","action","userData","consumer","consumerAction","variables","consumerVariables","result","error","console","useConsumerReducer","consumerResult","setResult","consume","nextState"],"sources":["/home/samael/server/test/frontend/src/provider/router/consumer.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { TaskConsumer,UserConsumer } from \"../../core/consumer\";\nimport { useUserData } from \"../utils/auth.context\";\nconst ConsumerList = {\n        TaskConsumer:TaskConsumer,\n        UserConsumer:UserConsumer\n    }\nasync function consumerReducer(state, action,userData) {\n    try {\n        const {consumer,consumerAction,variables} = action\n        const consumerVariables = consumerAction!==\"UserLogin\" ? {userData:userData,...variables} : variables\n        const result = await ConsumerList[consumer][consumerAction](consumerVariables)\n        return {...state, result:result}\n    } catch (error) {\n        console.error(error)\n        return state\n    }\n}\n\nfunction useConsumerReducer() {\n    const [consumerResult, setResult] = useState(null);\n    const {state} = useUserData()\n    async function consume(action) {\n      const nextState = await consumerReducer(consumerResult, action, state);\n      setResult(nextState);\n    }\n  \n    return [consumerResult, consume];\n}\n\n\nexport default useConsumerReducer"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,YAAT,EAAsBC,YAAtB,QAA0C,qBAA1C;AACA,SAASC,WAAT,QAA4B,uBAA5B;AACA,MAAMC,YAAY,GAAG;EACbH,YAAY,EAACA,YADA;EAEbC,YAAY,EAACA;AAFA,CAArB;;AAIA,eAAeG,eAAf,CAA+BC,KAA/B,EAAsCC,MAAtC,EAA6CC,QAA7C,EAAuD;EACnD,IAAI;IACA,MAAM;MAACC,QAAD;MAAUC,cAAV;MAAyBC;IAAzB,IAAsCJ,MAA5C;IACA,MAAMK,iBAAiB,GAAGF,cAAc,KAAG,WAAjB,GAA+B;MAACF,QAAQ,EAACA,QAAV;MAAmB,GAAGG;IAAtB,CAA/B,GAAkEA,SAA5F;IACA,MAAME,MAAM,GAAG,MAAMT,YAAY,CAACK,QAAD,CAAZ,CAAuBC,cAAvB,EAAuCE,iBAAvC,CAArB;IACA,OAAO,EAAC,GAAGN,KAAJ;MAAWO,MAAM,EAACA;IAAlB,CAAP;EACH,CALD,CAKE,OAAOC,KAAP,EAAc;IACZC,OAAO,CAACD,KAAR,CAAcA,KAAd;IACA,OAAOR,KAAP;EACH;AACJ;;AAED,SAASU,kBAAT,GAA8B;EAAA;;EAC1B,MAAM,CAACC,cAAD,EAAiBC,SAAjB,IAA8BlB,QAAQ,CAAC,IAAD,CAA5C;EACA,MAAM;IAACM;EAAD,IAAUH,WAAW,EAA3B;;EACA,eAAegB,OAAf,CAAuBZ,MAAvB,EAA+B;IAC7B,MAAMa,SAAS,GAAG,MAAMf,eAAe,CAACY,cAAD,EAAiBV,MAAjB,EAAyBD,KAAzB,CAAvC;IACAY,SAAS,CAACE,SAAD,CAAT;EACD;;EAED,OAAO,CAACH,cAAD,EAAiBE,OAAjB,CAAP;AACH;;GATQH,kB;UAEWb,W;;;AAUpB,eAAea,kBAAf"},"metadata":{},"sourceType":"module"}